syntax = "proto3";

import "google/protobuf/any.proto";
import "google/protobuf/timestamp.proto";

package chat;

option go_package = "protogen/linkAttribution";

service LinkService {
  rpc LinksBulkCreate(LinksBulkCreateRequest) returns (LinkUpsertListResponse) {}
}

message LinkUpsert {
  string unid = 1;
  google.protobuf.Timestamp created_at = 2;
  google.protobuf.Timestamp updated_at = 3;
  google.protobuf.Timestamp deleted_At = 4;
}

message LinkUpsertResponse {
  LinkUpsert data = 1;
  string message = 2;
  int32 code = 3;
}

message LinkUpsertListResponse {
  repeated LinkUpsert data = 1;
  string message = 2;
  int32 code = 3;
}

message LinksBulkCreateRequest {
  message AnalyticsTags {
    string feature = 1;
    string channel = 2;
    string campaign = 3;
    repeated string tags = 4;
  }
  message SocialMediaPreview {
    string title = 1;
    string description = 2;
  }

  message LinksCreate {
    string appUnid = 1;
    string type = 2;
    string name = 3;
    string path = 4;
    AnalyticsTags analyticsTags = 5;
    google.protobuf.Any linkData = 6;
    string iosRedirect = 7;
    string androidRedirect = 8;
    bool isWebOnly = 9;
    SocialMediaPreview socialMediaPreview = 10;
  }

  repeated LinksCreate links = 1;
}

message LinksBulkCreateResponse {
  LinkUpsert data = 1;
  string message = 2;
  int32 code = 3;
}
